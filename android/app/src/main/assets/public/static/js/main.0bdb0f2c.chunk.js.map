{"version":3,"sources":["store/auth/actions.ts","store/index.ts","store/store.ts","store/habits/types.ts","store/flags/actions.ts","components/common/Toolbar.module.css","pages/Login.module.css","config/FirebaseConfig.ts","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","components/common/Toolbar.tsx","quotes.ts","components/common/LineGraph.tsx","utils/Dates.ts","pages/Home.tsx","pages/AddHabit.tsx","components/common/Calendar.tsx","components/LeftMenu.tsx","components/common/AdMobContainer.tsx","components/common/InAppPurchase.tsx","constants.ts","pages/Login.tsx","components/common/Loading.tsx","utils/routing.tsx","pages/Terms.tsx","pages/Privacy.tsx","pages/Onboarding.tsx","App.tsx","serviceWorker.ts","index.tsx","pages/Home.module.css","store/stats/actions.ts","pages/AddHabit.module.css","components/LeftMenu.module.css","store/actionTypes.ts","store/stats/types.ts","store/habits/reducer.ts","store/flags/reducer.ts","store/stats/reducer.ts","store/auth/reducer.ts","store/root-reducer.ts","store/habits/actions.ts"],"names":["signUp","email","password","dispatch","a","firebase","auth","createUserWithEmailAndPassword","then","data","user","type","ActionType","LOGIN_SUCCESSFUL","uid","Promise","resolve","catch","error","reject","login","signInWithEmailAndPassword","console","log","autoLoginSuccess","autoLoginFailed","AUTO_LOGIN_FAILED","registerUsername","username","getState","database","ref","set","USERNAME_SUCCESS","getUsername","once","val","resetPassword","sendPasswordResetEmail","PASSWORD_RESET_SUCCESS","logout","signOut","actions","habits","habitActions","flags","flagActions","stats","statActions","authActions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","WEEKDAYS","AdMob","Plugins","addID","ios","AdMobIntersitionalIOS","android","options","adId","isPlatform","showInterAd","removeAds","showInterstitial","closeInterAd","CLOSE_INTER_AD","initializeInter","initialize","prepareInterstitial","getProducts","products","GET_PRODUCTS","subscribe","productID","InAppPurchase2","order","REMOVE_ADS","restorePurchase","refresh","module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AdMobBannerIOS","map","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","id","keys","Object","Toolbar","back","blank","rightButtons","rightMenu","color","slot","routerDirection","routerLink","className","icon","arrowBack","autoHide","menu","classes","menuButton","quotes","author","quote","LineGraph","title","fill","legend","lineData","key","label","backgroundColor","borderColor","borderWidth","lineTension","height","datasets","display","text","fontSize","scales","xAxes","time","unit","position","layout","getFinishedDates","dates","forEach","stat","habitCount","habitsCompleted","dateParts","split","newDate","Date","Number","push","finished","getAlmostFinishedDates","almostfinished","getHabitsCompleteData","date","sort","b","getTime","t","y","connect","state","bindActionCreators","getHabits","deleteHabit","getStats","completeHabit","unCompleteHabit","showInter","history","useState","setQuote","useEffect","firstLogin","Math","floor","random","length","listRef","useRef","closeList","current","closeSlidingItems","timeOptions","hour","minute","hour12","sortedHabitKeys","addOutline","pageContainer","quoteContainr","quoteInnerContainer","quoteAuthor","listContainer","deleted","habit","first","second","completedToday","datesCompleted","getFullYear","getMonth","getDate","side","onClick","trashBinOutline","hammerOutline","analytics","logEvent","checkmarkCircle","arrowUndoCircle","lineThrough","lines","timeLabel","Intl","DateTimeFormat","format","renderHabit","button","graphContainer","Habits","buttonContainer","productButton","price","billingPeriodUnit","addNewHabit","newHabit","updateHabit","showInterstitional","match","selectedTime","setSelectedTime","weekdays","setWeekdays","habitName","setHabitName","reminder","setReminder","params","habitID","setNotifiaction","weekday","timeArray","LocalNotifications","schedule","trigger","every","count","formContainer","border","value","placeholder","onIonChange","detail","checked","fullWidth","multiple","cancelText","okText","selectedText","Monday","Tuesday","Wednesday","Thursday","Friday","Saterday","Sunday","displayFormat","onIonCancel","notificatiions","String","dateCreated","now","deleteNotifiactions","saveButton","disabled","Calendar","finishedDates","almostFinishedDates","highlightDates","undefined","onChange","selected","inline","product","menuId","contentId","calendarContainer","hideBanner","iosInter","andridInter","bannerOptions","adSize","AdSize","FLUID","AdPosition","BOTTOM_CENTER","margin","showBanner","register","PAID_SUBSCRIPTION","ready","when","updated","owned","approved","p","verify","verified","finish","PAGE_URL","HOME","LOGIN","baseUrl","withRouter","loginMode","setLoginMode","setEmail","setPassword","password2","setPassword2","forgotPassword","setForgotPassword","errorMessage","setErrorMessage","handleSignUp","message","handleLogin","handleCancel","centerContainer","linkStyle","inputItem","event","topPadding","note","errorNote","isOpen","onDidDismiss","cssClass","header","inputs","name","buttons","role","handler","Loading","style","width","paddingTop","justifyContent","alignContent","transform","mapStateToProps","isLoading","Private","this","props","component","rest","render","location","pathname","window","href","to","from","React","createElement","bind","Component","Public","PrivateRoute","PublicRoute","Terms","Privacy","Onboarding","successCallback","errorCallback","orientation","shouldAutoClose","controls","StreamingMedia","playVideo","alignItems","App","onAuthStateChanged","assign","InAppPurchase","path","Home","exact","AddHabit","Login","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","registration","unregister","calculateHabitCount","todayStats","today","GET_STATS","newStats","StatsTemplate","UPDATE_TODAY","updateStats","initialState","combineReducers","action","ADD_NEW_HABIT","GET_HABITS","DELETE_HABIT","newHabits","UPDATE_HABIT","COMPLETE_HABIT","completeHabits","UNCOMPLETE_HABIT","unCompleteHabits","pop","SHOW_INTER_AD","saveHabits","snapshot","callback","i","cancel"],"mappings":"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","file":"static/js/main.0bdb0f2c.chunk.js","sourcesContent":["import { ThunkResult, ThunkDispatchType } from '../types';\nimport { ActionType } from '../actionTypes';\nimport firebase from '../../config/FirebaseConfig';\nimport 'firebase/database';\nimport { RootState } from '..';\n\nexport const signUp = (email: string, password: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType ): Promise<void> => {\n  return  firebase.auth().createUserWithEmailAndPassword(email, password)\n  .then((data) => {\n    if (data.user) {\n      dispatch({type: ActionType.LOGIN_SUCCESSFUL, uid: data.user.uid})\n      Promise.resolve();\n    }\n  })\n  .catch((error) => Promise.reject(error))\n};\n\nexport const login = (email: string, password: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType ): Promise<void> => {\n  return firebase.auth().signInWithEmailAndPassword(email, password)\n  .then((data) => {\n    if (data.user) {\n      dispatch({type: ActionType.LOGIN_SUCCESSFUL, uid: data.user.uid})\n    }\n  })\n  .catch((error) => {\n    console.log(\"Error\", error)\n    return Promise.reject(error);\n  })\n};\n\nexport const autoLoginSuccess = (uid: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType): Promise<void> => {\n  dispatch({type: ActionType.LOGIN_SUCCESSFUL, uid: uid});\n}\n\nexport const autoLoginFailed = (): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType): Promise<void> => {\n  dispatch({type: ActionType.AUTO_LOGIN_FAILED});\n}\n\nexport const registerUsername = (username: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType, getState: () => RootState ): Promise<void> => {\n  const uid = getState().auth.uid\n  // firebase.database().ref(`/usernames/${uid}`).set(username)\n  return firebase.database().ref(`/users/${uid}/username`).set(username)\n  .then((data) => {\n    dispatch({type: ActionType.USERNAME_SUCCESS, username: username})\n    \n    Promise.resolve()\n  })\n  .catch((error) => {\n    return Promise.reject(error);\n  })\n}\n\nexport const getUsername = (): ThunkResult<Promise<object>> =>\nasync ( dispatch: ThunkDispatchType, getState: () => RootState ): Promise<object> => {\n  return firebase.database().ref(`/users/${getState().auth.uid}/username`).once('value')\n  .then((data): object => {\n    const value = data.val();\n    if (value) {\n      dispatch({type: ActionType.USERNAME_SUCCESS, username: data.val()})\n      return Promise.resolve({})\n    } else {\n      return Promise.reject({error: 'invalid-username'})\n    }\n  })\n  .catch((error): object => {\n    console.log(error)\n    return Promise.reject({error: 'firebase error'})\n  });\n}\n\nexport const resetPassword = (email: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType ): Promise<void> => {\n  return  firebase.auth().sendPasswordResetEmail(email)\n  .then(() => {\n    dispatch({type: ActionType.PASSWORD_RESET_SUCCESS})\n    Promise.resolve();\n  })\n  .catch((error): void => console.log(\"Error\", error))\n};\n\nexport const logout = () => {\n  firebase.auth().signOut();\n}","import { StateType } from 'typesafe-actions';\nimport rootReducer from './root-reducer';\nimport * as flagActions from './flags/actions';\nimport { FlagsAction } from './flags/types';\nimport * as habitActions from './habits/actions';\nimport { HabitAction } from './habits/types';\nimport * as statActions from './stats/actions';\nimport { StatsAction } from './stats/types';\nimport * as authActions from './auth/actions';\nimport { AuthAction } from './auth/types';\n\n\nexport { default } from './store';\nexport { default as rootReducer } from './root-reducer';\n\nexport const actions = {\n  habits: habitActions,\n  flags: flagActions,\n  stats: statActions,\n  auth: authActions,\n};\n\nexport * from './types';\nexport * from './habits/types';\nexport * from './flags/types';\nexport * from './stats/types';\nexport * from './auth/types';\n\nexport type RootAction = HabitAction | FlagsAction | StatsAction | AuthAction; \nexport type RootState = StateType<typeof rootReducer>;","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './root-reducer';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","import { ActionType } from '../actionTypes';\n\nexport interface Habit {\n  notificatiions: number[];\n  time: string;\n  title: string;\n  id: string;\n  datesCompleted: number[];\n  dateCreated: number;\n  weekdays: number[];\n  deleted: boolean;\n}\n\nexport type Habits = {[id: string]: Habit}\n\n\nexport enum WEEKDAYS {\n  Sunday,\n  Monday,\n  Tuesday,\n  Wednesday,\n  Thursday,\n  Friday,\n  Saterday\n}\n\nexport type HabitAction = \n  { type: ActionType.ADD_NEW_HABIT, habit: Habit } |\n  { type: ActionType.GET_HABITS, habits: Habits } | \n  { type: ActionType.DELETE_HABIT, habit: Habit } |\n  { type: ActionType.UPDATE_HABIT, habit: Habit } |\n  { type: ActionType.COMPLETE_HABIT, habit: Habit } |\n  { type: ActionType.UNCOMPLETE_HABIT, habit: Habit }\n","import { ThunkResult, ThunkDispatchType } from \"../types\";\nimport { ActionType } from \"../actionTypes\";\nimport { isPlatform } from '@ionic/react';\nimport { Plugins } from '@capacitor/core';\nimport { AdOptions } from '@rdlabo/capacitor-admob';\nimport { AdMobIntersitionalIOS } from '../../config/FirebaseConfig';\nimport { IAPProducts, InAppPurchase2 } from \"@ionic-native/in-app-purchase-2\";\nimport { RootState } from \"..\";\n\nconst { AdMob } = Plugins;\n\nconst addID = {\n  ios: AdMobIntersitionalIOS, \n  android: '',\n}\n\nconst platformID = isPlatform('android') ? addID.android : addID.ios;\n\nconst options: AdOptions = {\n  adId: platformID,\n}\n\nexport const showInterAd = (): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType, getState: () => RootState ): Promise<void> => {\n    // dispatch({type: ActionType.SHOW_INTER_AD});\n    if (!getState().flags.removeAds){\n      AdMob.showInterstitial(options);  \n    }\n}\n\nexport const closeInterAd = (): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType): Promise<void> => {\n    dispatch({type: ActionType.CLOSE_INTER_AD});\n}\n\nexport const initializeInter = (): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType, getState: () => RootState ): Promise<void> => {\n    if (!getState().flags.removeAds) {\n      AdMob.initialize();\n      AdMob.prepareInterstitial(options);\n    }\n}\n\nexport const getProducts = (products: IAPProducts): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType): Promise<void> => {\n    dispatch({type: ActionType.GET_PRODUCTS, products: products});\n}\n\nexport const subscribe = (productID: string): ThunkResult<Promise<void>> =>\nasync ( dispatch: ThunkDispatchType): Promise<void> => {\n  InAppPurchase2.order(productID)\n}\n\nexport const removeAds = (): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType): Promise<void> => {\n    dispatch({type: ActionType.REMOVE_ADS});\n}\n\nexport const restorePurchase = (): ThunkResult<Promise<void>> =>\n  async ( dispatch: ThunkDispatchType): Promise<void> => {\n    InAppPurchase2.refresh()\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconColor\":\"Toolbar_iconColor__3tz_c\",\"menuButton\":\"Toolbar_menuButton__2ZZDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"Login_pageContainer__7quhO\",\"formContainer\":\"Login_formContainer__1Z8QQ\",\"centerContainer\":\"Login_centerContainer__39zPc\",\"linkStyle\":\"Login_linkStyle__25Ew-\",\"topPadding\":\"Login_topPadding__18Rys\",\"verticalCenter\":\"Login_verticalCenter__1pNLC\",\"note\":\"Login_note__2LYbd\",\"errorNote\":\"Login_errorNote__nBH5o\",\"inputItem\":\"Login_inputItem__3-zEA\",\"title\":\"Login_title__1xTYO\",\"buttonContainer\":\"Login_buttonContainer__1C9Mh\"};","import * as firebase from 'firebase/app'\n\nconst firebaseConfig = firebase.initializeApp( {\n  apiKey: \"AIzaSyAQZf7kmYxm71wf90cN5iPWZwhpSRLjpBc\",\n  authDomain: \"habit-tracker-7c2ac.firebaseapp.com\",\n  databaseURL: \"https://habit-tracker-7c2ac.firebaseio.com\",\n  projectId: \"habit-tracker-7c2ac\",\n  storageBucket: \"habit-tracker-7c2ac.appspot.com\",\n  messagingSenderId: \"631247204616\",\n  appId: \"1:631247204616:web:158a4ffa8d48d0d7e9fcbd\",\n  measurementId: \"G-8MRBYK1XZC\",\n});\n\nexport default firebaseConfig\n\nexport const AdMobBannerIOS = \"ca-app-pub-6336588907969710/7768804148\";\n\nexport const AdMobIntersitionalIOS = \"ca-app-pub-6336588907969710/3446415751\";\n\nexport const AdMobBannerAndroid = \"ca-app-pub-6336588907969710/4853724551\";\n\nexport const AdMobIntersitionalAndroid = \"ca-app-pub-6336588907969710/3349071197\";\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t406,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t407,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t408,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t409,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t410,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t411,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t412,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t413,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t414,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t415,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t416,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t417,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t418,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t419,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t420,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t421,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t422,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t423,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t424,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t425,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t426,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t427,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t428,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t429,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t430,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t431,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t432,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t433,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t434,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t435,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t436,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t437,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t438,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t439,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t440,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t441,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t442,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t443,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t444,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t445,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t446,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t447,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t448,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 210;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t452,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 232;\nmodule.exports = webpackAsyncContext;","import React, { ReactElement } from 'react';\nimport { IonToolbar, IonHeader, IonButtons, IonMenuButton, IonButton, IonIcon} from '@ionic/react';\nimport classes from './Toolbar.module.css';\nimport { menu, arrowBack } from 'ionicons/icons';\n\ninterface Props {\n  back?: boolean;\n  blank? : boolean;\n  rightButtons?: ReactElement;\n  rightMenu?: boolean;\n}\n\nexport const Toolbar = ( { back = false, blank = false, rightButtons, rightMenu }: Props): ReactElement => {\n\n  return (\n    <IonHeader>\n      <IonToolbar color=\"secondary\">\n        {!blank && \n          <IonButtons slot=\"start\">\n            {back && \n              <IonButton routerDirection=\"none\" routerLink=\"/home\" className=\"ion-no-margin ion-no-padding\">\n                <IonIcon icon={arrowBack}/>\n              </IonButton>\n            }\n            {!back && \n              <IonMenuButton autoHide={false} menu=\"left\" className={classes.menuButton}>\n                <IonIcon icon={menu}/>\n              </IonMenuButton>\n            }\n          </IonButtons>\n        }\n        {rightButtons && \n          <IonButtons slot=\"end\">\n            {rightButtons}\n          </IonButtons>\n        }\n      </IonToolbar>\n    </IonHeader>\n  );\n};\n\nexport default Toolbar;","export const quotes = [\n  {author: 'Confucius', quote: 'It doesn’t matter how slowly you go so long as you do not stop…'},\n  {author: 'Lucretius', quote: 'Constant dripping hollows out a stone…'},\n  {author: 'Benjamin Disraeli', quote: 'Experience is the child of thought, and thought is the child of action…'},\n  {author: 'Jim Rohn', quote: 'How long should you try? Until…'},\n  {author: 'Seneca', quote: 'It’s not because things are difficult that we dare not venture. It’s because we dare not venture that they are difficult…'},\n  {author: 'Norman Vincent Peale', quote: 'Stand up to your obstacles and do something about them. You will find that they haven’t half the strength you think they have…'},\n  {author: 'Jim Rohn', quote: 'Motivation is what gets you started. Habit is what keeps you going…'},\n  {author: 'Walter Bagehot', quote: 'The greatest pleasure in life is doing what people say you can’t do…'},\n  {author: 'Virgil', quote: 'They can because they think they can…'},\n  {author: 'Henry Ford', quote: 'Obstacles are those frightful things you see when you take your eyes off your goals…'},\n  {author: 'Peter A. Cohen', quote: 'There is no one giant step that does it. It’s a lot of little steps…'},\n  {author: 'Johann Wolfgang Von Goethe', quote: 'Knowing is not enough..We must apply. Willing is not enough..We must do…'},\n  {author: 'Samuel Johnson', quote: 'Great works are performed not by strength but by perseverance…'},\n  {author: 'Mahatma Gandhi', quote: 'Almost everything you do will seem insignificant, but it is important that you do it…'},\n  {author: 'Albert Einstein', quote: 'I think and think for months and years. Ninety-nine times, the conclusion is false. The hundredth time I am right…'},\n  {author: 'H. Jackson Browne', quote: 'Don’t be afraid to go out on a limb. That’s where the fruit is…'},\n  {author: 'Theodore Roosevelt', quote: 'Believe you can and you are halfway there…'},\n  {author: 'William Butler Yeats', quote: 'Do not wait to strike till the iron is hot; but make it hot by striking…'},\n  {author: 'Benjamin Franklin', quote: 'Energy and persistence conquer all things…'},\n  {author: 'Charles Auston Bates', quote: 'Lots of things that couldn’t be done have been done…'},\n  {author: 'John F. Kennedy', quote: 'If not us, who?..If not now, when?…'},\n  {author: 'Lou Holtz', quote: 'If what you did yesterday seems big, you haven’t done anything today…'},\n  {author: 'Winston Churchill', quote: 'If you’re going through hell, keep going…'},\n  {author: 'Robert Frost', quote: 'The best way out is always through…'},\n  {author: 'Zig Ziglar', quote: 'People often say that motivation doesn’t last. Well, neither does bathing.. that’s why we recommend it daily…'},\n  {author: 'Andre Gide', quote: 'Man cannot discover new oceans unless he has the courage to lose sight of the shore…'},\n  {author: 'John Mason', quote: 'Don’t wait for your ship to come In.. swim out to meet it!…'},\n  {author: 'Dale Carnegie', quote: 'Do the hard jobs first. The easy jobs will take care of themselves…'},\n  {author: 'Mark Twain', quote: 'The secret of getting ahead is getting started…'},\n  {author: 'Walt Disney', quote: 'It’s kind of fun to do the impossible…'},\n]\n\nexport const randomQuote = (): {author: string, quote: string} => {\n  return quotes[Math.floor(Math.random() * quotes.length)]\n}","import React, { ReactElement } from 'react'\nimport Chart ,{Line, ChartData} from 'react-chartjs-2';\n\n\ninterface ComponentProps {\n  data: {[key: string]: {data: {t: Date, y: number}[],  color: string}};\n  title: string;\n  fill?: boolean;\n  legend?: boolean;\n}\n\n\n\nexport const LineGraph = ({ data, title, fill=false, legend = false }: ComponentProps): ReactElement => {\n\n  const lineData = Object.keys(data).map((key) => {\n    return {\n      label: key,\n        fill: fill,\n        backgroundColor: data[key].color,\n        borderColor: data[key].color,\n        borderWidth: 2,\n        data: data[key].data,\n        lineTension: 0.5,\n    }\n  })\n\n  return (\n    <Line height={100}\n          data={{datasets: lineData}}\n          options={{\n            title:{\n              display:false,\n              text: title,\n              fontSize:20,\n            },\n            scales: {\n              xAxes: [{\n                type: 'time',\n                time: {\n                  unit: 'day'\n                }\n              }]\n            },\n            legend: {\n              display:legend,\n              position:'bottom'\n            },\n            layout: {\n              \n            }\n          }}\n        />\n  )\n}\n\nexport default LineGraph","import { Stat } from \"../store\";\n\nexport const getFinishedDates = (stats: Stat): {[key: string]: Date[]} => {\n  const dates: Date[] = []\n  Object.keys(stats).forEach((key) => {\n    const stat = stats[key];\n    if (stat.habitCount === stat.habitsCompleted){\n      const dateParts = key.split('-')\n      const newDate = new Date(Number(dateParts[2]), Number(dateParts[0]), Number(dateParts[1]));\n      dates.push(newDate);\n    }\n  })\n  return {finished: dates};\n}\n\nexport const getAlmostFinishedDates = (stats: Stat): {[key: string]: Date[]} => {\n  const dates: Date[] = []\n  Object.keys(stats).forEach((key) => {\n    const stat = stats[key];\n    if (stat.habitCount > stat.habitsCompleted && stat.habitsCompleted > 0){\n      const dateParts = key.split('-')\n      const newDate = new Date(Number(dateParts[2]), Number(dateParts[0]), Number(dateParts[1]));\n      dates.push(newDate);\n    }\n  })\n  return {almostfinished: dates};\n}\n\n// {/* {[key: string]: {data: {t: Date, y: number}[],  color: string}}; */}\nexport const getHabitsCompleteData = (stats: Stat): {t: Date, y: number}[] => {\n  const dates = Object.keys(stats).map((key) => {\n    const dateParts = key.split('-')\n    return {date: new Date(Number(dateParts[2]), Number(dateParts[0]), Number(dateParts[1])), habitsCompleted: stats[key].habitsCompleted}\n  })\n  dates.sort(( a, b) => b.date.getTime() - a.date.getTime()) // Short form for: dates.sort(by: < )\n  return dates.map((date) => {\n    return {t: date.date, y: date.habitsCompleted}\n  })\n}","import { IonPage, IonButton, IonItem, IonLabel, IonItemSliding, IonItemOptions, IonItemOption, IonIcon, IonList, IonText, IonContent } from '@ionic/react';\nimport React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport firebase from '../config/FirebaseConfig';\nimport 'firebase/analytics';\nimport classes from './Home.module.css';\nimport { RootState, ThunkDispatchType, Habits, actions, Habit, Stat } from '../store';\nimport { bindActionCreators } from 'redux';\nimport { RouteComponentProps } from 'react-router';\nimport { connect } from 'react-redux';\nimport {checkmarkCircle, hammerOutline, trashBinOutline, arrowUndoCircle, addOutline} from 'ionicons/icons';\nimport Toolbar from '../components/common/Toolbar';\nimport { randomQuote } from '../quotes';\nimport { IAPProduct } from '@ionic-native/in-app-purchase-2';\nimport LineGraph from '../components/common/LineGraph';\nimport { getHabitsCompleteData } from '../utils/Dates';\n\ninterface ReduxStateProps {\n  habits: Habits;\n  removeAds: boolean;\n  products: IAPProduct[];\n  stats: Stat;\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => ({\n  habits: state.habits,\n  removeAds: state.flags.removeAds,\n  products: state.flags.products,\n  stats: state.stats.stats,\n});\n\n// Need to define types here because it won't infer properly from ThunkResult right now\ninterface ReduxDispatchProps {\n  getHabits: () => Promise<void>;\n  deleteHabit: (habit: Habit) => Promise<void>;\n  getStats: () => Promise<boolean>;\n  completeHabit: (habit: Habit) => Promise<void>;\n  unCompleteHabit: (habit: Habit) => Promise<void>;\n  showInter: () => Promise<void>;\n  subscribe: (productID: string) => Promise<void>;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n  getHabits: actions.habits.getHabits,\n  deleteHabit: actions.habits.deleteHabit,\n  getStats: actions.stats.getStats,\n  completeHabit: actions.habits.completeHabit,\n  unCompleteHabit: actions.habits.unCompleteHabit,\n  showInter: actions.flags.showInterAd,\n  subscribe: actions.flags.subscribe\n}, dispatch);\n\ntype Props = ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps> & RouteComponentProps\n\nconst Home = ({getHabits, habits, deleteHabit, getStats, completeHabit, unCompleteHabit, showInter, removeAds, products, stats, history, subscribe}: Props): ReactElement => {\n\n  const [quote, setQuote] = useState({author: '', quote: ''})\n\n  useEffect(() => {\n    getHabits()\n    .then(() => {\n      getStats()\n      .then((firstLogin) => {\n        if (firstLogin) {\n          history.push('/onboarding')\n        }\n      })\n    })\n    setQuote(randomQuote())\n  }, [getHabits, getStats])\n\n  const listRef = useRef<HTMLIonListElement>(null)\n\n  const closeList = (): void => {\n    if (listRef.current) {\n      listRef.current.closeSlidingItems()\n    }\n  }\n\n  const datesAreOnSameDay = (first: Date, second: Date) =>\n    first.getFullYear() === second.getFullYear() &&\n    first.getMonth() === second.getMonth() &&\n    first.getDate() === second.getDate();\n\n  const timeOptions = {\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: true\n  };\n\n  const renderHabit = (habit: Habit): ReactElement => {\n\n    let completedToday = false\n\n    //check if completed\n    if (habit.datesCompleted && habit.datesCompleted.length > 0) {\n      completedToday = datesAreOnSameDay(new Date(habit.datesCompleted[habit.datesCompleted.length - 1]), new Date())\n    }\n\n    return (\n    <IonItemSliding key={habit.id}>\n      <IonItemOptions side=\"end\">\n        <IonItemOption onClick={() => deleteHabit(habit)} color=\"secondary\">\n          <IonIcon slot=\"icon-only\" icon={trashBinOutline}/>\n        </IonItemOption>\n        <IonItemOption routerLink={`edit_habit/${habit.id}`} routerDirection=\"none\" color=\"secondary\">\n            <IonIcon slot=\"icon-only\" icon={hammerOutline} onClick={closeList}/>\n        </IonItemOption>\n      </IonItemOptions>\n\n      <IonItemOptions side=\"start\">\n\n     {!completedToday &&\n        <IonItemOption color=\"secondary\"\n        onClick={() => {\n          completeHabit(habit);\n          closeList();\n          showInter();\n          firebase.analytics().logEvent('habit complete for the day')\n          }}>\n            <IonIcon slot=\"icon-only\" icon={checkmarkCircle}/>\n        </IonItemOption>}\n\n      {completedToday && \n        <IonItemOption color=\"secondary\" \n        onClick={() => {\n          unCompleteHabit(habit);\n          closeList();\n          }}>\n            <IonIcon slot=\"icon-only\" icon={arrowUndoCircle}/>\n        </IonItemOption>\n      }\n      </IonItemOptions>\n\n      <IonItem className={completedToday ? classes.lineThrough : ''} color=\"primary\" lines=\"none\">\n        <IonLabel className=\"ion-text-center ion-text-bold\" slot=\"start\">\n          {habit.title}\n        </IonLabel>\n        {habit.time !== '' &&\n          <IonText slot=\"end\" className={classes.timeLabel}>\n            {new Intl.DateTimeFormat('en-US', timeOptions).format(new Date(habit.time))}\n          </IonText>\n        }\n      </IonItem>\n    </IonItemSliding>\n    )\n  }\n\n  const sortedHabitKeys = Object.keys(habits).sort((a, b) => new Date(habits[a].time).getTime() - new Date(habits[b].time).getTime())\n  \n  return (\n    <IonPage>\n      <Toolbar rightButtons={<IonButton routerLink=\"/add_habit\" routerDirection=\"none\">\n          <IonIcon slot=\"icon-only\" icon={addOutline}/>\n        </IonButton>}/>\n      <IonContent>\n        <div className={classes.pageContainer}>\n          <div className={classes.quoteContainr}>\n            <div className={classes.quoteInnerContainer}>\n              <div className={classes.quote}>\n                {quote.quote}\n              </div>\n              <div className={classes.quoteAuthor}>\n                {quote.author}\n              </div>\n            </div>\n          </div>\n          {habits && Object.keys(habits).length > 0 &&\n            <IonList ref={listRef} className={classes.listContainer}>  \n              {sortedHabitKeys.map((id) => !habits[id].deleted && renderHabit(habits[id]))}\n            </IonList>\n          }\n          {Object.keys(habits).length === 0 &&\n            <IonButton color=\"primary\" className={classes.button} routerLink=\"/add_habit\" routerDirection=\"none\">\n              Add New Habbit\n            </IonButton>\n          }\n          {Object.keys(stats).length > 1 &&\n            <div className={classes.graphContainer}>\n            <LineGraph title=\"\" data={{Habits: {data: getHabitsCompleteData(stats), color: '#D08A4A'}}} fill={true}/>\n          </div>}\n\n          <div className={classes.buttonContainer}>\n            {products[0] && !removeAds &&\n              <IonButton className={classes.productButton}\n                onClick={() => subscribe(products[0].id)} key={products[0].id} \n                color=\"primary\">\n                Click Here to {products[0].title} For Only {products[0].price} a {products[0].billingPeriodUnit}\n              </IonButton>\n            }\n            </div>\n        </div>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { ReactElement, useState, useEffect } from 'react';\nimport firebase from '../config/FirebaseConfig';\nimport 'firebase/analytics';\nimport { IonPage, IonInput, IonButton, IonItem, IonLabel, IonDatetime, IonSelect, IonSelectOption, IonToggle, IonList, IonContent } from '@ionic/react';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { connect } from 'react-redux';\nimport classes from './AddHabit.module.css'\nimport { WEEKDAYS, RootState, ThunkDispatchType, Habit, actions, Habits } from '../store';\nimport { bindActionCreators } from 'redux';\nimport { RouteComponentProps } from 'react-router';\nimport Toolbar from '../components/common/Toolbar';\nimport { title } from 'process';\nimport { deleteNotifiactions } from '../store/habits/actions';\n\ninterface ReduxStateProps {\n  habits: Habits\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => ({\n  habits: state.habits\n});\n\n// Need to define types here because it won't infer properly from ThunkResult right now\ninterface ReduxDispatchProps {\n  addNewHabit: (habit: Habit) => Promise<void>;\n  updateHabit: (habit: Habit) => Promise<void>;\n  showInterstitional: () => Promise<void>;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n  addNewHabit: actions.habits.newHabit,\n  updateHabit: actions.habits.updateHabit,\n  showInterstitional: actions.flags.showInterAd,\n}, dispatch);\n\ninterface MatchParams {\n  habitID?: string;\n}\ninterface MatchProps extends RouteComponentProps<MatchParams>{}\n\ntype Props = ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps> & MatchProps\n\n\nexport const AddHabit = ({ addNewHabit, history, habits, match, updateHabit, showInterstitional }: Props): ReactElement => {\n\n  const [selectedTime, setSelectedTime] = useState('');\n  const [weekdays, setWeekdays] = useState([0,1,2,3,4,5,6]);\n  const [habitName, setHabitName] = useState('');\n  const [reminder, setReminder] = useState(true)\n\n  useEffect(() => {\n    if (match.params.habitID) {\n      const habitID = Number(match.params.habitID);\n      const habit = habits[habitID];\n      setSelectedTime(habit.time);\n      setWeekdays(habit.weekdays);\n      setHabitName(habit.title);\n    }\n  }, [match, habits])\n\n  const setNotifiaction = (weekday: number): void => {\n    if (reminder) {\n      const timeArray = selectedTime.split('T')[1].split(':')\n        if (timeArray) {\n          LocalNotifications.schedule({\n            id: Object.keys(habits).length * 10 + weekday,\n            title: `TIME TO ${habitName}`,\n            trigger: {every: { weekday: weekday, hour: Number(timeArray[0]), minute: Number(timeArray[1])}, count: 365}\n          })\n        }\n    }\n  }\n\n  const resetState = (): void => {\n    setHabitName('');\n    setWeekdays([0,1,2,3,4,5,6]);\n    setSelectedTime('');\n  }\n\n  const handleSaveHabit = (): void => {\n    const habit: Habit = {\n      notificatiions: weekdays,\n      title: habitName,\n      id: match.params.habitID ? match.params.habitID : String(Object.keys(habits).length),\n      time: selectedTime,\n      datesCompleted: [],\n      dateCreated: Date.now(),\n      weekdays: weekdays,\n      deleted: false,\n    }\n    //updating habit delete all possible notifactiioins the create new ones\n    match.params.habitID && deleteNotifiactions(habit, () => {\n      weekdays.forEach((weekday) => setNotifiaction(weekday))\n    });\n    //saving new habbit\n    reminder && !match.params.habitID && weekdays.forEach((weekday) => setNotifiaction(weekday))\n    match.params.habitID ? updateHabit(habit) : addNewHabit(habit);\n    showInterstitional();\n    resetState();\n    firebase.analytics().logEvent('save or update habit')\n  }\n\n  return (\n    <IonPage>\n      <Toolbar back/>\n      <IonContent>\n\n        <div className={classes.formContainer}>\n          <div className={classes.border}>\n            <IonItem lines=\"full\" color=\"primary\">\n              <IonInput value={habitName} placeholder=\"Habit Name:\" onIonChange={(e) => setHabitName(e.detail.value!)}/>\n            </IonItem>\n\n          <IonItem lines=\"full\" color=\"primary\">\n            <IonLabel slot=\"start\">Set Reminder</IonLabel>\n            <IonToggle color=\"secondary\" checked={reminder} onClick={() => setReminder(!reminder)} slot=\"end\"/>\n          </IonItem>\n\n          {reminder &&\n            <>\n              <IonItem className={classes.fullWidth} lines=\"full\" color=\"primary\">\n                <IonLabel>Weekdays</IonLabel>\n                <IonSelect value={weekdays} multiple={true} cancelText=\"Cancel\" okText=\"Okay!\" onIonChange={e => setWeekdays(e.detail.value)} selectedText=\"\">\n                  <IonSelectOption value={WEEKDAYS.Monday}>Monday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Tuesday}>Tuesday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Wednesday}>Wednesday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Thursday}>Thursday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Friday}>Friday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Saterday}>Saturday</IonSelectOption>\n                  <IonSelectOption value={WEEKDAYS.Sunday}>Sunday</IonSelectOption>\n                </IonSelect>\n              </IonItem>\n\n              <IonItem className={classes.fullWidth} lines=\"full\" color=\"primary\">\n                <IonLabel>Reminder Time</IonLabel>\n                <IonDatetime displayFormat=\"h:mm A\" cancelText=\"Remove Reminder\"\n                value={selectedTime} onIonChange={e => setSelectedTime(e.detail.value!)} \n                onIonCancel={() => setSelectedTime('')}/>\n              </IonItem>\n            </>\n          }\n          </div>\n          <IonButton onClick={handleSaveHabit} className={classes.saveButton} routerLink=\"/home\" routerDirection=\"none\"\n            disabled={ title === '' || (reminder && (weekdays.length === 0 || selectedTime === ''))} >\n            Save\n          </IonButton>\n        </div>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddHabit)","import React, { ReactElement } from 'react';\nimport DatePicker from 'react-datepicker';\nimport './Calendar.css'\n\ninterface Props {\n  finishedDates: {[key: string]: Date[]},\n  almostFinishedDates: {[key: string]: Date[]},\n}\n\nexport const Calendar = ({ finishedDates, almostFinishedDates }: Props): ReactElement => {\n\n  const highlightDates = [finishedDates, almostFinishedDates]\n  console.log('highlight', highlightDates)\n\n  return (\n    <>\n    {finishedDates !== undefined && almostFinishedDates !== undefined && \n    <DatePicker onChange={() => {}}\n      selected={new Date()} inline highlightDates={[...highlightDates]}/>\n    }\n    </>\n  )\n}\n\nexport default Calendar;","import React, { ReactElement, useEffect } from 'react';\nimport { IonMenu, IonToolbar, IonHeader, IonTitle, IonContent, IonButton } from '@ionic/react';\nimport { connect } from 'react-redux';\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport { bindActionCreators } from 'redux';\nimport { RootState, ThunkDispatchType, actions, Stats } from '../store';\nimport classes from './LeftMenu.module.css';\nimport { IAPProduct } from '@ionic-native/in-app-purchase-2';\nimport Calendar from './common/Calendar';\nimport { getFinishedDates, getAlmostFinishedDates } from '../utils/Dates';\nimport { logout } from '../store/auth/actions';\n\ninterface ReduxStateProps {\n  stats: Stats;\n  products: IAPProduct[];\n  removeAds: boolean;\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => ({\n  stats: state.stats,\n  products: state.flags.products,\n  removeAds: state.flags.removeAds,\n});\n\n// Need to define types here because it won't infer properly from ThunkResult right now\ninterface ReduxDispatchProps {\n  subscribe: (productID: string) => Promise<void>;\n  initializeInter: () => Promise<void>;\n  restorePurchase: () => Promise<void>;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n  subscribe: actions.flags.subscribe,\n  initializeInter: actions.flags.initializeInter,\n  restorePurchase: actions.flags.restorePurchase,\n}, dispatch);\n\ntype Props = ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps>\n\nexport const LeftMenu = ({ initializeInter, products, subscribe, removeAds, stats, restorePurchase }: Props): ReactElement => {\n\n  const handleInitializeAd = () => {\n    initializeInter()\n  }\n\n  useEffect(() => {\n    handleInitializeAd();\n  }, [])\n\n  const renderProducts = (product: IAPProduct): ReactElement => {\n    return(\n      <IonButton className={classes.productButton} \n        onClick={() => subscribe(product.id)} key={product.id} \n        color=\"primary\">\n        {product.title} {product.price}/{product.billingPeriodUnit}\n      </IonButton>\n    )\n  }\n\n  return (\n    <IonMenu side=\"start\" menuId=\"left\" contentId='main' color=\"secondary\">\n      <IonHeader>\n        <IonToolbar color=\"secondary\">\n          <IonTitle>Your Stats</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent color=\"secondary\">\n\n        <div className={classes.calendarContainer}>\n          <Calendar finishedDates={getFinishedDates(stats.stats)} almostFinishedDates={getAlmostFinishedDates(stats.stats)}/>\n        </div>\n\n        {!removeAds && products[0] && renderProducts(products[0])}\n        \n        <IonButton className={classes.productButton} onClick={restorePurchase}>Restore Purchases</IonButton>\n        \n        <IonButton className={classes.productButton} onClick={logout}>Logout</IonButton>\n      </IonContent>\n    </IonMenu>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);","import React, { ReactElement, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { isPlatform } from '@ionic/react';\nimport { Plugins } from '@capacitor/core';\nimport { AdOptions, AdSize, AdPosition } from '@rdlabo/capacitor-admob';\nimport { AdMobBannerIOS, AdMobIntersitionalIOS } from '../../config/FirebaseConfig';\nimport { bindActionCreators } from 'redux';\nimport { ThunkDispatchType, RootState } from '../../store';\n\nconst { AdMob } = Plugins;\n\ninterface ReduxStateProps {\n  removeAds: boolean\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => ({\n  removeAds: state.flags.removeAds\n});\n\n// Need to define types here because it won't infer properly from ThunkResult right now\ninterface ReduxDispatchProps {\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n}, dispatch);\n\ntype Props = ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps>\n\n\nexport const AdMobContainer = ({removeAds}: Props): ReactElement => {\n\n  useEffect(() => {\n    if (!removeAds) {\n      AdMob.initialize();\n      const addID = {\n        ios: AdMobBannerIOS,\n        iosInter: AdMobIntersitionalIOS, \n        android: '',\n        andridInter: '',\n      }\n\n      const platformAdIdBanner = isPlatform('android') ? addID.android : addID.ios;\n\n      const bannerOptions: AdOptions = {\n        adId: platformAdIdBanner,\n        adSize: AdSize.FLUID,\n        position: AdPosition.BOTTOM_CENTER,\n        margin: 0,\n      }\n\n      AdMob.showBanner(bannerOptions)\n    } else {\n      AdMob.hideBanner()\n    }\n  \n  }, [removeAds])\n\n  return (<></>)\n}\n\nexport default connect(mapStateToProps)(AdMobContainer)","import React, { ReactElement, useEffect } from \"react\";\nimport {InAppPurchase2, IAPProduct, IAPProducts} from '@ionic-native/in-app-purchase-2';\nimport { connect } from 'react-redux';\nimport { RootState, ThunkDispatchType, actions } from \"../../store\";\nimport { bindActionCreators } from \"redux\";\n\nconst store = InAppPurchase2;\n\ninterface ReduxStateProps {\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => ({\n});\n\ninterface ReduxDispatchProps {\n  getProducts: (products: IAPProducts) => Promise<void>;\n  removeAds: () => Promise<void>;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n  getProducts: actions.flags.getProducts,\n  removeAds: actions.flags.removeAds\n}, dispatch);\n\ntype Props = ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps>\n\nexport const InAppPurchaseContainer = ({ getProducts, removeAds }: Props): ReactElement => {\n\n  // in app purchase\n  useEffect(() => {\n    // store.verbosity = InAppPurchase2.DEBUG;\n    store.register({\n      id: 'removeAdsSub',\n      type: InAppPurchase2.PAID_SUBSCRIPTION,\n    })\n\n    // Run some code only when the store is ready to be used\n    store.ready(() =>  {\n      getProducts(store.products)\n    });\n\n    store.when(\"removeAdsSub\").updated((product: IAPProduct) => {\n      if (product.owned)\n          removeAds()\n      else\n          console.log('unowned')     \n    });\n\n    store.when('removeAdsSub')\n     .approved((p: IAPProduct) => p.verify())\n     .verified((p: IAPProduct) => p.finish())\n     .owned((p: IAPProduct) => {\n      if (p.owned) {\n        removeAds();\n        console.log('purchase complete')\n      }\n     });\n\n    store.error(() => {\n      console.log('error here')\n    })\n\n    store.refresh();\n  }, [])\n\n  // useEffect(() => {\n  //   InAppPurchase\n  //   .getProducts(['removeAdsSub'])\n  //   .then((products) => {\n  //     console.log('product',products);\n  //     getProducts(products)\n  //   })\n  //   .catch((err) => {\n  //     console.log('error',err);\n  //   });\n  // }, [getProducts])\n\n  return (<></>)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InAppPurchaseContainer)","const baseUrl = '/'\nexport const PAGE_URL = {\n  HOME: baseUrl,\n  LOGIN: baseUrl + \"login\",\n};","import React, { ReactElement, useState } from 'react';\nimport {withRouter, RouteComponentProps} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  IonInput,\n  IonLabel,\n  IonItem,\n  IonPage,\n  IonButton,\n  IonAlert,\n  IonContent,\n} from '@ionic/react';\nimport classes from './Login.module.css'\nimport { ThunkDispatchType, actions } from '../store';\nimport { bindActionCreators } from 'redux';\n\ninterface ReduxDispatchProps {\n  login: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string) => Promise<void>;\n  resetPassword: (email: string) => Promise<void>;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatchType): ReduxDispatchProps => bindActionCreators({\n  login: actions.auth.login,\n  signUp: actions.auth.signUp,\n  resetPassword: actions.auth.resetPassword,\n}, dispatch);\n\nexport const Login = ({history, login, signUp, resetPassword}: RouteComponentProps & ReduxDispatchProps): ReactElement => {\n\n  const [loginMode, setLoginMode] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [forgotPassword, setForgotPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleSignUp = (): void => {\n    if (password === password2) {\n      signUp(email, password)\n      .then((): void => {\n        console.log('success')\n      })\n      .catch((error) => {\n        setErrorMessage(error.message)\n      })\n    } else {\n      setErrorMessage('Passwords do not match!')\n    }\n  }\n\n  const handleLogin = (): void => {\n    login(email, password)\n    .then((): void => {\n      history.push('/home');\n    })\n    .catch((error) => {\n      setErrorMessage(error.message)\n    })\n  }\n\n  const handleCancel = (): void => {\n    setErrorMessage('');\n    setLoginMode(true);\n  }\n\n  const renderLogin = (): ReactElement => {\n    return (\n      <>\n        <div className={classes.centerContainer}>\n        <IonLabel color=\"primary\" className={classes.title}>\n          Login or&nbsp;\n          <span className={classes.linkStyle} onClick={(): void => {\n            setLoginMode(false);\n            setErrorMessage('');\n            }}>Sign up!</span>\n        </IonLabel>\n        </div>\n        <IonItem className={classes.inputItem}>\n          <IonLabel position=\"floating\">Email</IonLabel>\n          <IonInput value={email} onIonChange={(event): void => setEmail(String(event.detail.value))}/>\n        </IonItem>\n        <IonItem className={classes.inputItem}>\n          <IonLabel position=\"floating\">Password</IonLabel>\n          <IonInput value={password} onIonChange={(event): void => setPassword(String(event.detail.value))} \n            type=\"password\"/>\n        </IonItem>\n        <div className={`${classes.centerContainer} ${classes.topPadding}`}>\n          <div>\n            <div className={classes.buttonContainer}>\n              <IonButton onClick={handleLogin} className={classes.title}>Log In</IonButton>\n            </div>\n            \n            <p className={classes.note}>Having trouble logging in \n              <button className={classes.linkStyle} onClick={() => setForgotPassword(true)}>reset your password</button>\n            </p>\n            <p className={classes.note}>by logging in you agree to our&nbsp;\n              <button className={classes.linkStyle} onClick={() => history.push('/terms')}>terms of service</button>\n              &nbsp;and&nbsp;\n              <button className={classes.linkStyle} onClick={() => history.push('/privacy')}>privacy policy</button>\n            </p>\n          </div>\n        </div>\n      </>\n    )\n  }\n\n  const renderSignUp = (): ReactElement => (\n    <>\n      <div className={classes.centerContainer}>\n      <IonLabel color=\"primary\" className={classes.title}>\n        Sign Up\n      </IonLabel>\n      </div>\n      <IonItem className={classes.inputItem}>\n        <IonLabel position=\"floating\">Email</IonLabel>\n        <IonInput value={email} onIonChange={(event): void => setEmail(String(event.detail.value))}/>\n      </IonItem>\n      <IonItem className={classes.inputItem}>\n        <IonLabel position=\"floating\">Password</IonLabel>\n        <IonInput value={password} onIonChange={(event): void => setPassword(String(event.detail.value))} \n          type=\"password\"/>\n      </IonItem>\n      <IonItem className={classes.inputItem}>\n        <IonLabel position=\"floating\">Re Enter Password</IonLabel>\n        <IonInput value={password2} onIonChange={(event): void => setPassword2(String(event.detail.value))}\n          type=\"password\"/>\n      </IonItem>\n      <div className={`${classes.centerContainer} ${classes.topPadding}`}>\n        <div>\n          <IonButton className={classes.title} onClick={handleSignUp}>Sign Up</IonButton>\n          <IonButton className={classes.title} onClick={handleCancel}>Cancel</IonButton>\n        </div>\n      </div>\n    </>\n  )\n\n  return (\n    <IonPage >\n      <IonContent>\n        <div className={classes.pageContainer}>\n\n          <div className={classes.formContainer}>\n          {loginMode ? renderLogin() : renderSignUp()}\n          <h5 className={classes.errorNote}>{errorMessage}</h5>\n          </div>\n          <IonAlert\n              isOpen={forgotPassword}\n              onDidDismiss={() => setForgotPassword(false)}\n              cssClass='my-custom-class'\n              header={'Enter your email to recieve a forgot password link'}\n              inputs={[\n                {\n                  name: 'email',\n                  type: 'text',\n                },\n                \n              ]}\n              buttons={[\n                {\n                  text: 'Cancel',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: () => {\n                    console.log('Confirm Cancel');\n                  }\n                },\n                {\n                  text: 'Ok',\n                  handler: (value) => {\n                    resetPassword(value.email)\n                  }\n                }\n              ]}\n            />\n        </div>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(Login))","import React, { ReactElement } from 'react';\nimport { IonSpinner } from \"@ionic/react\";\n\nexport const Loading = (): ReactElement => (\n  <div style={{height: '100%', width: '100%', paddingTop: '25%', display: 'flex',\n   justifyContent: 'center', alignContent: 'center', backgroundColor: 'var(--ion-color-secondary)'}}>\n    <IonSpinner name=\"lines\" style={{transform: \"scale(6)\"}} color=\"primary\"></IonSpinner>\n  </div>\n)\n\nexport default Loading","import React, { Component, ReactElement } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\nimport { connect } from 'react-redux';\nimport { RootState } from '../store';\nimport { PAGE_URL } from '../constants';\nimport Login from \"../pages/Login\";\nimport Loading from \"../components/common/Loading\";\n\ninterface ReduxStateProps {\n  uid: string;\n  isLoading: boolean;\n};\n\nconst mapStateToProps = (state: RootState): ReduxStateProps => {\n  return {\n    uid: state.auth.uid,\n    isLoading: state.auth.isLoading\n  }\n};\n\ntype Props = ReturnType<typeof mapStateToProps> & {\n  component: React.ComponentType<RouteComponentProps<any>> | React.ComponentType<any>;\n  path?: string | string[];\n  exact?: boolean;\n};\n\nclass Private extends Component<Props> {\n\n  render(): ReactElement {\n    const { component, ...rest } = this.props;\n    const routeRender = (props: any): ReactElement => {\n      if (this.props.isLoading) {\n        return <Loading/>;\n      } else if (this.props.uid === \"\") {\n        //this.targetPath = window.location.pathname;\n  \n        // Returning <Redirect/> fails tests but this would be better\n        // return <Redirect to={{pathname: '/login', state: {from: props.location}}}/>;\n        // return <Login from={props.location}/>;\n        // There seems to be a bug where a redirect to login is still getting to this point.\n        if (props.location.pathname !== PAGE_URL.LOGIN) {\n          // TODO: This should be more properly done. Having a manual redirect like this\n          // blows the app state away, but without it Home won't render properly in \n          // the case of log out / log back in\n          window.location.href = PAGE_URL.LOGIN;\n          return <Redirect to={{pathname: PAGE_URL.LOGIN, state: {from: props.location}}}/>;\n        } else {\n          return <Login />;\n        }\n      } else {\n        return React.createElement(component, props);\n      }\n    };\n    return <Route {...rest} render={routeRender.bind(this)} />;\n  }\n}\n\nclass Public extends Component<Props> {\n  render(): ReactElement {\n    return (\n      <Route {...this.props}/>\n    );\n  }\n}\n\nexport const PrivateRoute = connect(mapStateToProps)(Private);\nexport const PublicRoute = connect(mapStateToProps)(Public);","import React, { ReactElement } from 'react';\nimport classes from './Privacy.module.css';\nimport { IonPage, IonContent } from '@ionic/react';\nimport Toolbar from '../components/common/Toolbar';\n\nexport const Terms = (): ReactElement => {\n  return (\n    <IonPage>\n      <Toolbar back/>\n      <IonContent>\n      <h2>Habit Tracer Terms of Service</h2>\n<h3>1. Terms</h3>\n<p>By accessing our app, Habit Tracer, you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing Habit Tracer. The materials contained in Habit Tracer are protected by applicable copyright and trademark law.</p>\n<h3>2. Use License</h3>\n<ol type=\"a\">\n   <li>Permission is granted to temporarily download one copy of Habit Tracer per device for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:\n   <ol type=\"i\">\n       <li>modify or copy the materials;</li>\n       <li>use the materials for any commercial purpose, or for any public display (commercial or non-commercial);</li>\n       <li>attempt to decompile or reverse engineer any software contained in Habit Tracer;</li>\n       <li>remove any copyright or other proprietary notations from the materials; or</li>\n       <li>transfer the materials to another person or \"mirror\" the materials on any other server.</li>\n   </ol>\n    </li>\n   <li>This license shall automatically terminate if you violate any of these restrictions and may be terminated by Habit Tracer at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.</li>\n</ol>\n<h3>3. Disclaimer</h3>\n<ol type=\"a\">\n   <li>The materials within Habit Tracer are provided on an 'as is' basis. Habit Tracer makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</li>\n   <li>Further, Habit Tracer does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its website or otherwise relating to such materials or on any sites linked to Habit Tracer.</li>\n</ol>\n<h3>4. Limitations</h3>\n<p>In no event shall Habit Tracer or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use Habit Tracer, even if Habit Tracer or a Habit Tracer authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.</p>\n<h3>5. Accuracy of materials</h3>\n<p>The materials appearing in Habit Tracer could include technical, typographical, or photographic errors. Habit Tracer does not warrant that any of the materials on Habit Tracer are accurate, complete or current. Habit Tracer may make changes to the materials contained in Habit Tracer at any time without notice. However Habit Tracer does not make any commitment to update the materials.</p>\n<h3>6. Links</h3>\n<p>Habit Tracer has not reviewed all of the sites linked to its app and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by Habit Tracer of the site. Use of any such linked website is at the user's own risk.</p>\n<h3>7. Modifications</h3>\n<p>Habit Tracer may revise these terms of service for its app at any time without notice. By using Habit Tracer you are agreeing to be bound by the then current version of these terms of service.</p>\n<h3>8. Governing Law</h3>\n<p>These terms and conditions are governed by and construed in accordance with the laws of NY and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.</p>\n<p><a href=\"https://getterms.io\" title=\"Generate a free terms of use document\">Terms of Use created with GetTerms.</a></p>\n\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Terms","import React, { ReactElement } from 'react';\nimport classes from './Privacy.module.css';\nimport { IonPage, IonContent } from '@ionic/react';\nimport Toolbar from '../components/common/Toolbar';\n\nexport const Privacy = (): ReactElement => {\n  return (\n    <IonPage>\n      <Toolbar back/>\n      <IonContent>\n        <h2>Privacy Policy</h2>\n        <p>Your privacy is important to us. It is Habit Tracer's policy to respect your privacy regarding any information we may collect from you through our app, Habit Tracer.</p>\n        <p>We only ask for personal information when we truly need it to provide a service to you. We collect it by fair and lawful means, with your knowledge and consent. We also let you know why we’re collecting it and how it will be used.</p>\n        <p>We only retain collected information for as long as necessary to provide you with your requested service. What data we store, we’ll protect within commercially acceptable means to prevent loss and theft, as well as unauthorized access, disclosure, copying, use or modification.</p>\n        <p>We don’t share any personally identifying information publicly or with third-parties, except when required to by law.</p>\n        <p>Our app may link to external sites that are not operated by us. Please be aware that we have no control over the content and practices of these sites, and cannot accept responsibility or liability for their respective privacy policies.</p>\n        <p>You are free to refuse our request for your personal information, with the understanding that we may be unable to provide you with some of your desired services.</p>\n        <p>Your continued use of our app will be regarded as acceptance of our practices around privacy and personal information. If you have any questions about how we handle user data and personal information, feel free to contact us.</p>\n        <p>This policy is effective as of 3 August 2020.</p>\n        <p><a href=\"https://getterms.io\" title=\"Generate a free privacy policy\">Privacy Policy created with GetTerms.</a></p>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Privacy","import React, { ReactElement, useEffect } from 'react';\nimport { IonPage, IonContent } from '@ionic/react';\nimport { StreamingMedia, StreamingVideoOptions } from '@ionic-native/streaming-media';\nimport { RouteComponentProps } from 'react-router';\n\n\nexport const Onboarding = ({ history }: RouteComponentProps): ReactElement => {\n\n  let options: StreamingVideoOptions = {\n    successCallback: () => { history.push('home') },\n    errorCallback: () => { history.push('home') },\n    orientation: 'portrait',\n    shouldAutoClose: true,\n    controls: false,\n  };\n\n  useEffect(() => {\n   StreamingMedia.playVideo('https://firebasestorage.googleapis.com/v0/b/habit-tracker-7c2ac.appspot.com/o/HabitTracerOnboarding.mp4?alt=media&token=bb62a783-972e-434c-973c-f968f25fa721', options)\n  }, [])\n\n  return (\n    <IonPage>\n      <IonContent>\n        <div style={{width: '100%', height: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n        </div>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Onboarding","import React, { useEffect } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet, IonContent } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport firebase from './config/FirebaseConfig';\nimport 'firebase/auth';\nimport 'firebase/analytics';\nimport Home from './pages/Home';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Theme variables */\nimport './theme/variables.css';\nimport AddHabit from './pages/AddHabit';\nimport { Provider } from 'react-redux';\nimport store, { actions } from './store';\nimport LeftMenu  from './components/LeftMenu';\nimport AdMobContainer from './components/common/AdMobContainer';\nimport InAppPurchase from './components/common/InAppPurchase';\nimport { PublicRoute, PrivateRoute} from './utils/routing';\nimport Login from './pages/Login';\nimport './App.css'\nimport Terms from './pages/Terms';\nimport Privacy from './pages/Privacy';\nimport Onboarding from './pages/Onboarding';\n\n\nconst App: React.FC = () => {\n  useEffect((): void => {\n    firebase.analytics()\n    //check auth status\n    firebase.auth().onAuthStateChanged((user): void => {\n      if (user) {\n        actions.auth.autoLoginSuccess(user.uid)(store.dispatch, store.getState, null);\n        if (window.location.pathname === '/login'){\n          window.location.assign('/home')\n        }\n      } else {\n        actions.auth.autoLoginFailed()(store.dispatch, store.getState, null);\n      }\n    })\n    }, [])\n\n  return (\n  <Provider store={store}>\n    <IonApp>\n      <IonReactRouter>\n        <AdMobContainer />\n        <InAppPurchase />\n        <LeftMenu />\n        <IonRouterOutlet id=\"main\">\n          <PrivateRoute path=\"/home\" component={Home} exact={true} />\n          <PrivateRoute path=\"/add_habit\" component={AddHabit} exact={true} />\n          <PrivateRoute path=\"/edit_habit/:habitID\" component={AddHabit} />\n          <PrivateRoute path=\"/onboarding\" component={Onboarding} exact={true} />\n          <PublicRoute path=\"/login\" component={Login} />\n          <PublicRoute path=\"/terms\" component={Terms} />\n          <PublicRoute path=\"/privacy\" component={Privacy} />\n          <Route exact path=\"/\" render={() => <Redirect to=\"/home\" />} />\n        </IonRouterOutlet>\n      </IonReactRouter>\n    </IonApp>\n  </Provider>\n)};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"Home_pageContainer__1B2o2\",\"button\":\"Home_button__3_K0L\",\"listContainer\":\"Home_listContainer__26yIH\",\"timeLabel\":\"Home_timeLabel__35att\",\"quote\":\"Home_quote__1TZQb\",\"quoteAuthor\":\"Home_quoteAuthor__25VxG\",\"quoteContainr\":\"Home_quoteContainr__1lNah\",\"quoteInnerContainer\":\"Home_quoteInnerContainer__2jmoo\",\"lineThrough\":\"Home_lineThrough__2qqMy\",\"productButton\":\"Home_productButton__2iXaB\",\"buttonContainer\":\"Home_buttonContainer__nt4zD\"};","import { ThunkResult, ThunkDispatchType } from \"../types\";\nimport firebase from '../../config/FirebaseConfig';\nimport 'firebase/database';\nimport { ActionType } from \"../actionTypes\";\nimport { RootState } from \"..\";\nimport { Stats, StatsTemplate } from \"./types\";\nimport { Habits } from \"../habits/types\";\n\nconst calculateHabitCount = (habits: Habits): number => {\n  let count = 0;\n\n  Object.keys(habits).forEach((key) => !habits[key].deleted && count++)\n  return count\n}\n\nexport const getStats = (): ThunkResult<Promise<boolean>> =>\n  async ( dispatch: ThunkDispatchType, getState: () => RootState): Promise<boolean> => {\n    let todayStats = {habitCount: 0, habitsCompleted: 0}\n    const date = new Date()\n    const today = `${date.getMonth()}-${date.getDate()}-${date.getFullYear()}`\n    return firebase.database().ref(`/stats/${getState().auth.uid}/`).once('value')\n    .then((stats) => {\n      if (!stats.val() || !stats.val()[today]) {\n        //stats for today does not exist create one\n        const newStats = {...StatsTemplate}\n        newStats.stats = stats.val() ? {...stats.val()} : {}\n        todayStats = {habitCount: calculateHabitCount(getState().habits), habitsCompleted: 0}\n        newStats.stats[today] = todayStats\n        newStats.today = todayStats\n        firebase.database().ref(`/stats/${getState().auth.uid}/${today}`)\n          .set({habitCount: Object.keys(getState().habits).length, habitsCompleted: 0})\n          dispatch({ type: ActionType.GET_STATS, stats: newStats.stats})\n        } else {\n          todayStats = stats.val()[today]\n          dispatch({ type: ActionType.GET_STATS, stats: stats.val()})\n        }\n        dispatch({ type: ActionType.UPDATE_TODAY, today: todayStats})\n        return Promise.resolve(stats.val() ? false : true)\n    })\n    .catch(() => Promise.reject(false))\n}\n\nexport const updateStats = (stats: Stats, uid: string): void => {\n  console.log('update stats', stats)\n  const date = new Date()\n  const today = `${date.getMonth()}-${date.getDate()}-${date.getFullYear()}`\n  firebase.database().ref(`/stats/${uid}/${today}`).set(stats.stats[today])\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"AddHabit_formContainer__thW7N\",\"border\":\"AddHabit_border__12Qc6\",\"fullWidth\":\"AddHabit_fullWidth__3b6L_\",\"saveButton\":\"AddHabit_saveButton__25p7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calendarContainer\":\"LeftMenu_calendarContainer__3cSw7\",\"productButton\":\"LeftMenu_productButton__37hmN\"};","export enum ActionType {\n  //Habits\n  ADD_NEW_HABIT = \"ADD_NEW_HABIT\",\n  GET_HABITS = \"GET_HABITS\",\n  DELETE_HABIT = \"DELETE_HABIT\",\n  UPDATE_HABIT = \"UPDATE_HABIT\",\n  COMPLETE_HABIT = \"COMPLETE_HABIT\",\n  UNCOMPLETE_HABIT = \"UNCOMPLETE_HABIT\",\n\n  //flags\n  CLOSE_INTER_AD = \"CLOSE_INTER_AD\",\n  SHOW_INTER_AD = \"SHOW_INTER_AD\",\n  GET_PRODUCTS = \"GET_PRODUCTS\",\n  REMOVE_ADS = \"REMOVE_ADS\",\n\n  //stats\n  UPDATE_STATS = \"UPDATE_STATS\",\n  GET_STATS = \"GET_STATS\",\n  UPDATE_TODAY = \"UPDATE_TODAY\",\n\n   //auth\n   USER_LOADING = \"USER_LOADING\",\n   USER_LOADED = \"USER_LOADED\",\n   LOGIN_FAILED = \"LOGIN_FAILED\",\n   LOGIN_SUCCESSFUL = \"LOGIN_SUCCESSFUL\",\n   LOGOUT_SUCCESSFUL = \"LOGOUT_SUCCESSFUL\",\n   AUTHENTICATION_ERROR = \"AUTHENTICATION_ERROR\",\n   AUTO_LOGIN_FAILED = \"AUTO_LOGIN_FAILED\",\n   AUTO_LOGIN_SUCCESS = \"AUTO_LOGIN_SUCCESS\",\n   AUTO_LOGIN = \"AUTO_LOGIN\",\n   USERNAME_SUCCESS = \"USERNAME_SUCCESS\",\n   PASSWORD_RESET_SUCCESS = \"PASSWORD_RESET_SUCCESS\",\n}\n","import { ActionType } from '../actionTypes';\n\nexport type Stat = {[date: string]: {habitCount: number, habitsCompleted: number}}\n\nexport interface Stats{\n  stats: Stat,\n  today: {habitCount: number, habitsCompleted: number},\n}\n\nexport const StatsTemplate: Stats = {\n  stats: {},\n  today: {habitCount: 0, habitsCompleted: 0}\n}\n\nexport type StatsAction = \n  { type: ActionType.UPDATE_STATS } | \n  { type: ActionType.GET_STATS, stats: Stat } | \n  { type: ActionType.UPDATE_TODAY, today: {habitsCompleted: number, habitCount: number}}\n  ","import { ActionType } from \"../actionTypes\";\nimport { Habits } from \"./types\";\nimport { RootAction } from \"..\";\n\nconst initialState: Habits = {};\n\nexport default function auth(state=initialState, action: RootAction): typeof initialState  {\n  switch (action.type) {\n  \n    case (ActionType.ADD_NEW_HABIT):\n      return {...state,[action.habit.id]: action.habit};\n    \n    case (ActionType.GET_HABITS):\n      return {...action.habits}\n\n    case (ActionType.DELETE_HABIT):\n      const newHabits = {...state}\n      newHabits[action.habit.id].deleted = true\n      return newHabits\n\n    case (ActionType.UPDATE_HABIT):\n      const habits = {...state};\n      habits[action.habit.id] = action.habit;\n      return habits;\n\n    case (ActionType.COMPLETE_HABIT):\n      const completeHabits = {...state}\n      if (completeHabits[action.habit.id].datesCompleted) {\n        completeHabits[action.habit.id].datesCompleted.push(Date.now())\n      } else {\n        completeHabits[action.habit.id].datesCompleted = [Date.now()]\n      }\n      return completeHabits;\n    \n    case (ActionType.UNCOMPLETE_HABIT):\n      const unCompleteHabits = {...state};\n      unCompleteHabits[action.habit.id].datesCompleted.pop() \n      return unCompleteHabits\n        \n      \n    default:\n      return state;\n  }\n}","import { ActionType } from \"../actionTypes\";\nimport { Flags } from \"./types\";\nimport { RootAction } from \"..\";\nimport { IAPProduct } from '@ionic-native/in-app-purchase-2';\n\nconst initialState: Flags = {\n  showInterAd: false,\n  products: [] as IAPProduct[],\n  removeAds: false\n};\n\nexport default function auth(state=initialState, action: RootAction): typeof initialState  {\n  switch (action.type) {\n  \n    case (ActionType.SHOW_INTER_AD):\n      return {...state, showInterAd: true};\n\n    case (ActionType.CLOSE_INTER_AD):\n      return {...state, showInterAd: false}\n\n    case (ActionType.GET_PRODUCTS):\n      return {...state, products: action.products}\n\n    case (ActionType.REMOVE_ADS):\n      return {...state, removeAds: true}\n\n    default:\n      return state;\n  }\n}","import { ActionType } from \"../actionTypes\";\nimport { Stats } from \"./types\";\nimport { RootAction } from \"..\";\n\nconst initialState: Stats = {\n  stats: {},\n  today: {habitCount: 0, habitsCompleted: 0}\n};\n\nexport default function stats(state=initialState, action: RootAction): typeof initialState  {\n\n  const date = new Date()\n  const today = `${date.getMonth()}-${date.getDate()}-${date.getFullYear()}`\n  let newStats = initialState\n\n  switch (action.type) {\n\n    case(ActionType.GET_STATS):\n      return {...state, stats: {...action.stats}}\n\n    case(ActionType.UPDATE_TODAY):\n      return {...state, today: action.today}\n\n    case (ActionType.ADD_NEW_HABIT):\n      newStats = {...state};\n      newStats.stats[today].habitCount = newStats.stats[today].habitCount + 1\n      return {...newStats, today: {...state.today, habitCount: state.today.habitCount + 1}};\n\n    case (ActionType.DELETE_HABIT):\n      newStats = {...state};\n      newStats.stats[today].habitCount = newStats.stats[today].habitCount - 1\n      return {...newStats, today: {...state.today, habitCount: state.today.habitCount - 1}};\n\n    case(ActionType.COMPLETE_HABIT):\n      newStats = {...state}\n      newStats.stats[today].habitsCompleted = newStats.stats[today].habitsCompleted + 1\n      return {...newStats, today: {...state.today, habitsCompleted: state.today.habitsCompleted + 1}}\n    \n    case (ActionType.UNCOMPLETE_HABIT):\n      newStats = {...state}\n      newStats.stats[today].habitsCompleted = newStats.stats[today].habitsCompleted - 1\n      return {...newStats, today: {...state.today, habitsCompleted: state.today.habitsCompleted - 1}}\n  \n    default:\n      return state;\n  }\n}","import { ActionType } from \"../actionTypes\";\nimport { Auth } from \"./types\";\nimport { RootAction } from \"..\";\n\nconst initialState: Auth = {\n  uid: \"\",\n  isLoading: true,\n  username: '',\n};\n\nexport default function auth(state=initialState, action: RootAction): typeof initialState  {\n  switch (action.type) {\n  \n    case (ActionType.LOGIN_SUCCESSFUL):\n      return {...state, isLoading: false, uid: action.uid}\n\n    case (ActionType.AUTO_LOGIN_FAILED):\n      return {...state, isLoading: false, uid: ''}\n\n    case (ActionType.USERNAME_SUCCESS):\n      return {...state, username: action.username}\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport habits from './habits/reducer';\nimport flags from './flags/reducer';\nimport stats from './stats/reducer';\nimport auth from './auth/reducer';\n\nconst rootReducer = combineReducers({\n  habits,\n  flags,\n  stats,\n  auth,\n});\n\nexport default rootReducer;","import firebase from '../../config/FirebaseConfig';\nimport 'firebase/database';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { ThunkResult, ThunkDispatchType } from \"../types\";\nimport { ActionType } from \"../actionTypes\";\nimport { Habit, Habits } from \"./types\";\nimport { RootState } from \"..\";\nimport { updateStats } from '../stats/actions';\nimport { showInterAd } from '../flags/actions';\n\n\nexport const newHabit = (habit: Habit): ThunkResult<Promise<void>> =>\n  async (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n    dispatch({type: ActionType.ADD_NEW_HABIT, habit: habit})\n    saveHabits({...getState().habits}, getState().auth.uid)\n    updateStats(getState().stats, getState().auth.uid)\n}\n\nexport const updateHabit = (habit: Habit): ThunkResult<Promise<void>> =>\nasync (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n  dispatch({type: ActionType.UPDATE_HABIT, habit: habit})\n  saveHabits({...getState().habits}, getState().auth.uid)\n}\n\nexport const saveHabits = (habits: Habits, uid: string): void => {\n  firebase.database().ref(`habits/${uid}/`).set(habits)\n}\n\nexport const getHabits = (): ThunkResult<Promise<void>> =>\n  async (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n    firebase.database().ref(`habits/${getState().auth.uid}/`).once('value')\n    .then((snapshot) => {\n      if(snapshot.val()) {\n        dispatch({ type: ActionType.GET_HABITS, habits: snapshot.val()})\n        return Promise.resolve()\n      }\n    })\n}\n\nexport const deleteNotifiactions = (habit: Habit, callback?: () => void) => {\n  // habit.notificatiions.forEach((id) => {\n  //   LocalNotifications.cancel(habit.id * 10 + id)\n  // })\n  for (let i = 0; i < 7; i++) {\n    LocalNotifications.cancel(Number(habit.id) * 10 + i)\n    .then(() => {\n     if (i === 6 && callback) {\n       callback();\n     }\n    })\n  }\n}\n\nexport const deleteHabit = (habit: Habit): ThunkResult<Promise<void>> =>\n  async (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n    deleteNotifiactions(habit);\n    dispatch({ type: ActionType.DELETE_HABIT, habit: habit});\n    updateStats(getState().stats, getState().auth.uid);\n    saveHabits(getState().habits, getState().auth.uid);\n}\n\nexport const completeHabit = (habit: Habit): ThunkResult<Promise<void>> =>\n  async (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n    dispatch({ type: ActionType.COMPLETE_HABIT, habit: habit})\n    saveHabits(getState().habits, getState().auth.uid)\n    updateStats(getState().stats, getState().auth.uid)\n}\n\nexport const unCompleteHabit = (habit: Habit): ThunkResult<Promise<void>> =>\n  async (dispatch: ThunkDispatchType, getState: () => RootState): Promise<void> => {\n    dispatch({ type: ActionType.UNCOMPLETE_HABIT, habit: habit})\n    saveHabits(getState().habits, getState().auth.uid)\n    updateStats(getState().stats, getState().auth.uid)\n}\n\n"],"sourceRoot":""}